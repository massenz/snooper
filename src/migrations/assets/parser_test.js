var rawMigrations = {
	"migrations" : [
		[
			"54.241.175.235",
			"169",
			"Ubuntu 12.10",
			"4094",
			"COMPLETED_FAILURE",
			"6/18/2013"
		],
		[
			"54.225.81.181",
			"241",
			"Red Hat Enterprise Linux Server release 6.4 (Santiago)",
			"4104",
			"COMPLETED_FAILURE",
			"6/18/2013"
		],
		[
			"54.236.229.186",
			"228",
			"Microsoftr Windows Server 2008 Datacenter 6.0.6002",
			"4039",
			"COMPLETED_FAILURE",
			"6/17/2013"
		],
		[
			"184.169.155.77",
			"47",
			"Ubuntu 12.04.1 LTS",
			"4381",
			"COMPLETED_FAILURE",
			"6/25/2013"
		],
		[
			"54.244.118.123",
			"238",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4110",
			"COMPLETED_FAILURE",
			"6/18/2013"
		],
		[
			"54.241.176.1",
			"106",
			"Red Hat Enterprise Linux Server release 6.4 (Santiago)",
			"4294",
			"COMPLETED_SUCCESS",
			"6/24/2013"
		],
		[
			"54.236.229.186",
			"61",
			"Microsoftr Windows Server 2008 Datacenter 6.0.6002",
			"4391",
			"COMPLETED_SUCCESS",
			"6/27/2013"
		],
		[
			"54.244.23.185",
			"170",
			"Ubuntu 12.10",
			"4214",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"54.241.175.235",
			"169",
			"Ubuntu 12.10",
			"4232",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"54.236.229.186",
			"89",
			"Microsoftr Windows Server 2008 Datacenter 6.0.6002",
			"4159",
			"IN_PROGRESS",
			"6/20/2013"
		],
		[
			"184.169.155.77",
			"47",
			"Ubuntu 12.04.1 LTS",
			"4167",
			"COMPLETED_SUCCESS",
			"6/20/2013"
		],
		[
			"54.236.229.186",
			"61",
			"Microsoftr Windows Server 2008 Datacenter 6.0.6002",
			"4272",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"184.169.155.77",
			"86",
			"Ubuntu 12.04.1 LTS",
			"4364",
			"COMPLETED_SUCCESS",
			"6/25/2013"
		],
		[
			"184.169.168.55",
			"255",
			"Ubuntu 12.04.1 LTS",
			"4250",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"54.244.117.255",
			"71",
			"Ubuntu 11.04",
			"4402",
			"COMPLETED_SUCCESS",
			"6/28/2013"
		],
		[
			"54.244.118.82",
			"102",
			"Ubuntu 10.04.3 LTS",
			"4070",
			"COMPLETED_SUCCESS",
			"6/17/2013"
		],
		[
			"54.244.24.25",
			"172",
			"Red Hat Enterprise Linux Server release 6.4 (Santiago)",
			"4238",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"184.169.155.77",
			"232",
			"Ubuntu 12.04.1 LTS",
			"4037",
			"COMPLETED_SUCCESS",
			"6/17/2013"
		],
		[
			"54.244.16.40",
			"118",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4081",
			"COMPLETED_SUCCESS",
			"6/17/2013"
		],
		[
			"54.225.81.181",
			"95",
			"Red Hat Enterprise Linux Server release 6.4 (Santiago)",
			"4414",
			"COMPLETED_SUCCESS",
			"6/29/2013"
		],
		[
			"54.241.175.235",
			"169",
			"Ubuntu 12.10",
			"4095",
			"COMPLETED_FAILURE",
			"6/18/2013"
		],
		[
			"54.225.76.196",
			"113",
			"Ubuntu 12.04.1 LTS",
			"4318",
			"COMPLETED_FAILURE",
			"6/24/2013"
		],
		[
			"54.241.175.235",
			"169",
			"Ubuntu 12.10",
			"4090",
			"COMPLETED_SUCCESS",
			"6/18/2013"
		],
		[
			"184.169.168.52",
			"240",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4163",
			"IN_PROGRESS",
			"6/20/2013"
		],
		[
			"54.244.23.185",
			"256",
			"Ubuntu 12.10",
			"4270",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"184.169.168.52",
			"62",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4147",
			"COMPLETED_SUCCESS",
			"6/20/2013"
		],
		[
			"54.236.230.76",
			"119",
			"Ubuntu 12.04.2 LTS",
			"4406",
			"COMPLETED_SUCCESS",
			"6/28/2013"
		],
		[
			"54.225.81.181",
			"95",
			"Red Hat Enterprise Linux Server release 6.4 (Santiago)",
			"4132",
			"COMPLETED_FAILURE",
			"6/19/2013"
		],
		[
			"184.169.155.77",
			"232",
			"Ubuntu 12.04.1 LTS",
			"4438",
			"COMPLETED_SUCCESS",
			"7/3/2013"
		],
		[
			"54.244.118.123",
			"226",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4046",
			"COMPLETED_FAILURE",
			"6/17/2013"
		],
		[
			"54.225.76.196",
			"113",
			"Ubuntu 12.04.1 LTS",
			"4229",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"54.236.230.76",
			"119",
			"Ubuntu 12.04.2 LTS",
			"4259",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"54.236.234.107",
			"134",
			"Ubuntu 12.10",
			"4275",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"184.169.168.52",
			"62",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4285",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"54.236.233.76",
			"140",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4376",
			"COMPLETED_SUCCESS",
			"6/25/2013"
		],
		[
			"54.225.81.181",
			"241",
			"Red Hat Enterprise Linux Server release 6.4 (Santiago)",
			"4099",
			"CANCELLED",
			"6/18/2013"
		],
		[
			"54.244.117.255",
			"246",
			"Ubuntu 11.04",
			"4169",
			"COMPLETED_SUCCESS",
			"6/20/2013"
		],
		[
			"54.244.16.40",
			"237",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4048",
			"COMPLETED_FAILURE",
			"6/17/2013"
		],
		[
			"54.225.81.181",
			"105",
			"Red Hat Enterprise Linux Server release 6.4 (Santiago)",
			"4236",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"54.244.118.82",
			"102",
			"Ubuntu 10.04.3 LTS",
			"4265",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"184.169.168.55",
			"104",
			"Ubuntu 12.04.1 LTS",
			"4267",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"54.244.117.255",
			"242",
			"Ubuntu 11.04",
			"4112",
			"COMPLETED_SUCCESS",
			"6/18/2013"
		],
		[
			"184.169.168.52",
			"240",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4086",
			"COMPLETED_FAILURE",
			"6/17/2013"
		],
		[
			"54.244.16.48",
			"180",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4120",
			"COMPLETED_SUCCESS",
			"6/19/2013"
		],
		[
			"54.241.175.235",
			"169",
			"Ubuntu 12.10",
			"4096",
			"COMPLETED_FAILURE",
			"6/18/2013"
		],
		[
			"54.241.176.1",
			"106",
			"Red Hat Enterprise Linux Server release 6.4 (Santiago)",
			"4155",
			"COMPLETED_SUCCESS",
			"6/20/2013"
		],
		[
			"54.236.245.71",
			"156",
			"Microsoft(R) Windows(R) Server 2003 Datacenter x645.2.3790",
			"4326",
			"COMPLETED_FAILURE",
			"6/24/2013"
		],
		[
			"184.169.155.77",
			"86",
			"Ubuntu 12.04.1 LTS",
			"4344",
			"COMPLETED_SUCCESS",
			"6/24/2013"
		],
		[
			"184.169.168.55",
			"262",
			"Ubuntu 12.04.1 LTS",
			"4436",
			"COMPLETED_SUCCESS",
			"7/3/2013"
		],
		[
			"54.225.81.181",
			"241",
			"Red Hat Enterprise Linux Server release 6.4 (Santiago)",
			"4106",
			"COMPLETED_FAILURE",
			"6/18/2013"
		],
		[
			"184.169.155.77",
			"86",
			"Ubuntu 12.04.1 LTS",
			"4320",
			"CANCELLED",
			"6/24/2013"
		],
		[
			"184.169.155.77",
			"232",
			"Ubuntu 12.04.1 LTS",
			"4115",
			"COMPLETED_SUCCESS",
			"6/19/2013"
		],
		[
			"184.169.168.52",
			"240",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4076",
			"IN_PROGRESS",
			"6/17/2013"
		],
		[
			"54.236.233.76",
			"140",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4389",
			"COMPLETED_SUCCESS",
			"6/27/2013"
		],
		[
			"54.244.118.82",
			"102",
			"Ubuntu 10.04.3 LTS",
			"4416",
			"COMPLETED_SUCCESS",
			"7/1/2013"
		],
		[
			"54.236.229.186",
			"89",
			"Microsoftr Windows Server 2008 Datacenter 6.0.6002",
			"4198",
			"COMPLETED_FAILURE",
			"6/21/2013"
		],
		[
			"54.244.16.40",
			"118",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4066",
			"IN_PROGRESS",
			"6/17/2013"
		],
		[
			"54.244.24.34",
			"245",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4123",
			"COMPLETED_SUCCESS",
			"6/19/2013"
		],
		[
			"54.244.16.40",
			"118",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4379",
			"COMPLETED_SUCCESS",
			"6/25/2013"
		],
		[
			"54.225.81.181",
			"95",
			"Red Hat Enterprise Linux Server release 6.4 (Santiago)",
			"4175",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"54.236.228.212",
			"103",
			"Microsoft(R) Windows(R) Server 2003 Datacenter x645.2.3790",
			"4063",
			"CANCELLED",
			"6/17/2013"
		],
		[
			"184.169.168.54",
			"114",
			"Microsoft(R) Windows(R) Server 2003",
			" Datacenter Ed5.2.3790",
			"4130",
			"COMPLETED_SUCCESS",
			"6/19/2013"
		],
		[
			"184.169.155.77",
			"86",
			"Ubuntu 12.04.1 LTS",
			"4338",
			"COMPLETED_SUCCESS",
			"6/24/2013"
		],
		[
			"54.225.81.181",
			"105",
			"Red Hat Enterprise Linux Server release 6.4 (Santiago)",
			"4332",
			"COMPLETED_FAILURE",
			"6/24/2013"
		],
		[
			"54.236.234.107",
			"134",
			"Ubuntu 12.10",
			"4367",
			"COMPLETED_FAILURE",
			"6/25/2013"
		],
		[
			"54.244.16.40",
			"69",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4383",
			"COMPLETED_SUCCESS",
			"6/26/2013"
		],
		[
			"54.236.245.71",
			"156",
			"Microsoft(R) Windows(R) Server 2003 Datacenter x645.2.3790",
			"4324",
			"COMPLETED_FAILURE",
			"6/24/2013"
		],
		[
			"54.225.81.181",
			"241",
			"Red Hat Enterprise Linux Server release 6.4 (Santiago)",
			"4091",
			"COMPLETED_FAILURE",
			"6/18/2013"
		],
		[
			"54.244.117.255",
			"71",
			"Ubuntu 11.04",
			"4404",
			"COMPLETED_SUCCESS",
			"6/28/2013"
		],
		[
			"54.244.118.123",
			"120",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4068",
			"CANCELLED",
			"6/17/2013"
		],
		[
			"54.244.118.120",
			"123",
			"Ubuntu 12.04.1 LTS",
			"4256",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"54.236.229.186",
			"89",
			"Microsoftr Windows Server 2008 Datacenter 6.0.6002",
			"4084",
			"COMPLETED_SUCCESS",
			"6/17/2013"
		],
		[
			"54.236.228.212",
			"59",
			"Microsoft(R) Windows(R) Server 2003 Datacenter x645.2.3790",
			"4279",
			"COMPLETED_SUCCESS",
			"6/21/2013"
		],
		[
			"54.236.233.76",
			"140",
			"Microsoft Windows Server 2008 R2 Datacenter 6.1.7601",
			"4149",
			"CANCELLED",
			"6/20/2013"
		]
	]
}
var cookedMigrations = {"migrations":[]};

var allSteps = ["test_connection", "collect_attributes", "collect_data", "convert_image", "deploy_to_hypervisor", "deploy_to_cloud"];

/** Code to be invoked when the DOM is ready, but typically before page assets have finished loading. */
$(document).ready(function() {
    /** Instantiate UrlBox */
    urlEngine = new UrlBox();
    forEach(rawMigrations.migrations, function(thisMigration) {
        var tempMigration = {
            "host" : thisMigration[0],
            "source_machine_id" : thisMigration[1],
            "operating_system" : thisMigration[2],
            "id" : thisMigration[3],
            "status" : thisMigration[4],
            "date" : thisMigration[5],
            "steps" : []
        };
        var troubleMaker = Math.floor(Math.random() * allSteps.length);
        forEach(allSteps, function(stepVal, stepKey) {
            var stepObject = {"name" : stepVal};
            if (thisMigration[4] === "COMPLETED_SUCCESS") {
                stepObject.status = "COMPLETED_SUCCESS";
            } else {
                if (stepKey < troubleMaker) {
                    stepObject.status = "COMPLETED_SUCCESS";
                } else if (stepKey > troubleMaker) {
                    stepObject.status = "NOT_STARTED";
                } else {
                    stepObject.status = thisMigration[4];
                }
            }
            tempMigration.steps.push(stepObject);
        });
        cookedMigrations.migrations.push(tempMigration);
    });
    console.log(JSON.stringify(cookedMigrations));
});